import i18n from 'i18next'
import { initReactI18next } from 'react-i18next'

const resources = {
    en: {
        translation: {
            "diagnostic_intro": "Please complete these questions first to determine your current learning level.",
            "ai_generating": "AI is generating diagnostic questions, please wait...",
            "register": "Register",
            "register_success": "Registration successful",
            "register_failed": "Registration failed",
            "login_success": "Login successful",
            "login_failed": "Login failed",
            "network_error": "Network error",
            "用户名": "Username",
            "密码": "Password",
            "请再次输入密码": "Repeat password",
            "请输入用户名": "Enter username",
            "请输入密码": "Enter password",
            "用户名和密码不能为空": "Username and password cannot be empty",
            "两次输入的密码不一致": "Passwords do not match",
            "用户名已存在": "Username already exists, please choose another",
            "注册成功": "Registration successful",
            "登录成功": "Login successful",
            "用户名或密码错误": "Incorrect username or password",
            "注册失败": "Registration failed",
            "登录失败": "Login failed",
            "网络错误": "Network error",
            "welcome": "Welcome",
            "welcome_note": "Select your grade and subject, then request today's lesson.",
            "student_name": "Student Name",
            "grade_level": "Grade Level",
            "start_learning": "Start Learning",
            "subtitle": "Complete K-12 US Curriculum",
            "login": "Login",
            "oauth_placeholder": "OAuth (Google/WeChat/Apple) placeholder",
            "email": "Email",
            "name": "Name",
            "grade": "Grade",
            "subject": "Subject",
            "today": "Today's Lesson",
            "homework": "Homework",
            "language": "Language",
            "select": "Select",
            "save_prefs": "Save Preferences",
            "please_login": "Please login first",
            "saved": "Preferences saved",
            "generated": "Generated",
            // Grades
            "grade_KG": "Kindergarten",
            "grade_G1": "Grade 1",
            "grade_G2": "Grade 2",
            "grade_G3": "Grade 3",
            "grade_G4": "Grade 4",
            "grade_G5": "Grade 5",
            "grade_G6": "Grade 6",
            "grade_G7": "Grade 7",
            "grade_G8": "Grade 8",
            "grade_G9": "Grade 9",
            "grade_G10": "Grade 10",
            "grade_G11": "Grade 11",
            "grade_G12": "Grade 12",
            "grade_H1": "Senior 1",
            "grade_H2": "Senior 2",
            "grade_H3": "Senior 3",
            "grade_H4": "Senior 4",
            // Subjects
            "sub_math": "Math",
            "sub_chinese": "Chinese",
            "sub_english": "English",
            "sub_science": "Science",
            "sub_art": "Art",
            "sub_pe": "PE",
            "sub_physics": "Physics",
            "sub_chemistry": "Chemistry",
            "sub_biology": "Biology",
            "sub_history": "History",
            "sub_geography": "Geography",
            "sub_play": "Play",
            "sub_language": "Language",
            "history": "History",
            "no_history": "No attempts yet",
            "correct": "Correct",
            "incorrect": "Incorrect",
            "answer": "Answer",
            "submit": "Submit",
            "close": "Close",
            "start_diagnostic": "Start Diagnostic",
            "diagnostic": "Diagnostic Test",
            "submit_all": "Submit all",
            "completed": "Completed",

            "home": "Home",
            "results": "Results",
            "no_results": "No results found.",
            "back": "Back",
            "submitted": "Submitted",
            "all_correct": "All correct",
            "question": "Question",
            "your_answer": "Your answer",
            "correct_answer": "Correct answer",
            "explanation": "Explanation",
            "continue": "Continue",
            "wrong": "Wrong",

            "kp_scores": "Knowledge Scores",
            "kp_scores_note": "Accuracy by knowledge point (correct / total)",
            "kp_scores_empty": "No knowledge point attempts yet.",
            "kp_scores_count": "{{count}} knowledge points",
            "kp_scores_by_grade": "By Grade",
            "kp_scores_by_subject": "By Subject",
            "pass": "PASS",
            "knowledge_point": "Knowledge point",
            "kp": "KP"
        }
    },
    zh: {
        translation: {
            "diagnostic_intro": "请先做完这些题来确定你现在的学习水平",
            "ai_generating": "AI 正在生成诊断题，请稍候..",
            "register": "注册",
            "register_success": "注册成功",
            "register_failed": "注册失败",
            "login_success": "登录成功",
            "login_failed": "登录失败",
            "network_error": "网络错误",
            "用户名": "用户名",
            "密码": "密码",
            "请再次输入密码": "请再次输入密码",
            "请输入用户名": "请输入用户名",
            "请输入密码": "请输入密码",
            "用户名和密码不能为空": "用户名和密码不能为空",
            "两次输入的密码不一致": "两次输入的密码不一致",
            "用户名已存在": "用户名已存在，请更换",
            "注册成功": "注册成功",
            "登录成功": "登录成功",
            "用户名或密码错误": "用户名或密码错误",
            "注册失败": "注册失败",
            "登录失败": "登录失败",
            "网络错误": "网络错误",
            "welcome": "欢迎",
            "welcome_note": "选择你的年级与学科，然后获取今天的课程。",
            "login": "登录",
            "oauth_placeholder": "第三方登录占位（Google/微信/Apple）",
            "email": "邮箱",
            "name": "名字",
            "grade": "年级",
            "subject": "学科",
            "today": "今天的课程",
            "homework": "作业",
            "language": "语言",
            "select": "选择",
            "save_prefs": "保存偏好",
            "please_login": "请先登录",
            "saved": "已保存偏好",
            "generated": "生成内容",
            // Grades
            "grade_KG": "幼儿园",
            "grade_G1": "一年级",
            "grade_G2": "二年级",
            "grade_G3": "三年级",
            "grade_G4": "四年级",
            "grade_G5": "五年级",
            "grade_G6": "六年级",
            "grade_G7": "七年级",
            "grade_G8": "八年级",
            "grade_G9": "九年级",
            "grade_G10": "高一",
            "grade_G11": "高二",
            "grade_G12": "高三",
            "grade_H1": "高一(补)",
            "grade_H2": "高二(补)",
            "grade_H3": "高三(补)",
            "grade_H4": "高四",
            // Subjects
            "sub_math": "数学",
            "sub_chinese": "语文",
            "sub_english": "英语",
            "sub_science": "科学",
            "sub_art": "艺术",
            "sub_pe": "体育",
            "sub_physics": "物理",
            "sub_chemistry": "化学",
            "sub_biology": "生物",
            "sub_history": "历史",
            "sub_geography": "地理",
            "sub_play": "游戏",
            "sub_language": "语言",
            "history": "历史",
            "no_history": "暂无记录",
            "correct": "正确",
            "incorrect": "错误",
            "answer": "答案",
            "submit": "提交",
            "close": "关闭",
            "student_name": "学生姓名",
            "grade_level": "年级",
            "start_learning": "开始学习",
            "subtitle": "覆盖 K-12 的完整课程",
            "start_diagnostic": "开始诊断",
            "diagnostic": "诊断测试",
            "submit_all": "提交全部",
            "completed": "已完成",

            "home": "主页",
            "results": "结果",
            "no_results": "未找到结果。",
            "back": "返回",
            "submitted": "已提交",
            "all_correct": "全部答对",
            "question": "题目",
            "your_answer": "你的答案",
            "correct_answer": "正确答案",
            "explanation": "解析",
            "continue": "继续",
            "wrong": "错误",

            "kp_scores": "知识点得分",
            "kp_scores_note": "按知识点统计正确率（答对 / 总数）",
            "kp_scores_empty": "暂无知识点记录。",
            "kp_scores_count": "{{count}} 个知识点",
            "kp_scores_by_grade": "按年级",
            "kp_scores_by_subject": "按学科",
            "pass": "通过",
            "knowledge_point": "知识点",
            "kp": "知识点"
        }
    }
}

i18n
    .use(initReactI18next)
    .init({
        resources,
        lng: (() => {
            try {
                const saved = localStorage.getItem('lang')
                return saved === 'en' ? 'en' : 'zh'
            } catch {
                return 'zh'
            }
        })(),
        fallbackLng: 'en',
        interpolation: { escapeValue: false }
    })

export default i18n
